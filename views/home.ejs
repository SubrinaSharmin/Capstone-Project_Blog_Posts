<%# Home page to display all posts. %>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <title>Blog Posts</title>
  </head>
  <body>
    <%- include("partials/header.ejs") %>
    <div class="row">
      <div class="leftcolumn">
        <div class="card">
          <h2>The Right Kind of Stubborn</h2>
          <h4>July 2024</h4>
          <p>
            Successful people tend to be persistent. New ideas often don't work
            at first, but they're not deterred. They keep trying and eventually
            find something that does. Mere obstinacy, on the other hand, is a
            recipe for failure. Obstinate people are so annoying. They won't
            listen.
          </p>
          <small>By: Paul Graham</small>
        </div>
        <div class="card">
          <h2>How to Get New Ideas</h2>
          <h5>Sep 2, 2017</h5>
          <p>
            The way to get new ideas is to notice anomalies: what seems strange,
            or missing, or broken? You can see anomalies in everyday life (much
            of standup comedy is based on this), but the best place to look for
            them is at the frontiers of knowledge. Knowledge grows fractally.
          </p>
          <small>By: Jhon Doe</small>
        </div>

        <%# looping through the posts array and posting the user inserted blog
        posts into the home page. %> <% posts.forEach(post => { %>

        <div class="card">
          <h2><%= post.title %></h2>
          <h5><%= post.date %></h5>
          <p>
            <%# truncating out blog posts in the home page. %> <%=
            post.body.substring(0, 300)+" ..." %> <%# here the read more a tag
            will work when it will hit the /posts/whichever title user chose. %>

            <a href="/posts/<%= post.id %>">Read more</a>
          </p>
          <small>By: <%= post.author %></small>
        </div>
        <% }); %>
      </div>
      <div class="rightcolumn">
        <div class="card">
          <h2>About Me</h2>
          <p>Some text about me in culpa qui officia deserunt mollit anim..</p>
        </div>
        <div class="card">
          <a href="/compose" class="new_blog">New Blog</a>
        </div>
        <div class="card">
          <h3>Popular Post</h3>
        </div>
        <div class="card">
          <h3>Follow Me</h3>
        </div>
      </div>
    </div>

    <%-include("partials/footer.ejs") %>
    <script src="data/posts.json" charset="UTF-8"></script>
    <script src="index.js" charset="UTF-8"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
